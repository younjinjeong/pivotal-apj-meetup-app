<!DOCTYPE HTML>
<html>
	<head>
		<title>EMC Forum 2016</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>
	<body>
		<!-- Wrapper -->
			<div id="wrapper">
				<!-- Header -->
					<header id="header" class="alt">
					</header>

				<!-- Banner -->
					<section id="banner" class="major">
						<div class="inner">
							<header class="major">
								<h1>Welcome to EMC Forum 2016!</h1>
							</header>
						</div>
					</section>

				<!-- Main -->
					<div id="main">

							<section id="two" class="tiles">
								<div class="inner">


									<h2 class="q1">Please fill in below information to participate. Thanks.</h2>

									<form id="userAnswer" method="post" action="">
										<div class="row uniform">

											<div class="6u 12u$(xsmall) user_info q1">
												<input type="text" name="name" id="name" value="" placeholder="Name" />
											</div>
											<div class="6u$ 12u$(xsmall) user_info q1">
												<input type="email" name="email" id="email" value="" placeholder="Email" />
											</div>


											<!-- Break -->


											<div class="12u 12u$(small) q1" id="q1_block">
											<h3>Q1: It seems every company today is racing to transform into a software company.  What are the major reasons for this?</h3>

											<div class="4u 12u$(small)">
												<input type="radio" id="q1_a" name="q1" value="a">
												<label for="q1_a">Pressure coming from Internet and startups competitors</label>
											</div>
											<div class="4u 12u$(small)">
												<input type="radio" id="q1_b" name="q1" value="b">
												<label for="q1_b">Digital is all about software development</label>
											</div>
											<div class="4u$ 12u$(small)">
												<input type="radio" id="q1_c" name="q1" value="c">
												<label for="q1_c">Outsourcing cannot give you competitive advantage</label>
											</div>
											<div class="4u$ 12u$(small)">
												<input type="radio" id="q1_d" name="q1" value="d">
												<label for="q1_d">All of the above</label>
											</div>
											</div>



											<div class="12u 12u$(small) q2" id="q2_block">
											<h3>Q2: In Digital Transformation, which three key areas are most important?</h3>
											<div class="4u 12u$(small)">
												<input type="radio" id="q2_a" name="q2" value="a">
												<label for="q2_a">Workforce, security and IT process</label>
											</div>
											<div class="4u 12u$(small)">
												<input type="radio" id="q2_b" name="q2" value="b">
												<label for="q2_b">Big data, cloud native platform and agile culture</label>
											</div>
											<div class="4u$ 12u$(small)">
												<input type="radio" id="q2_c" name="q2" value="c">
												<label for="q2_c">Infrastructure, automation and data center efficiency</label>
											</div>
											</div>



											<div class="12u 12u$(small) q3" id="q3_block">
											<h3>Q3: What are the four technology pillars in todayâ€™s modern data center?</h3>
											<div class="4u 12u$(small)">
												<input type="radio" id="q3_a" name="q3" value="a">
												<label for="q3_a">Flash, converged infrastructure, virtualization, adaptive security</label>
											</div>
											<div class="4u 12u$(small)">
												<input type="radio" id="q3_b" name="q3" value="b">
												<label for="q3_b">Flash, cloud enabled, scale out, software defined</label>
											</div>
											<div class="4u$ 12u$(small)">
												<input type="radio" id="q3_c" name="q3" value="c">
												<label for="q3_c">Flash, virtualization, scale out, protection</label>
											</div></div>

											<div class="12u 12u$(small) q4" id="q4_block">
											<h3>Q4: Which are the key components of Enterprise hybrid cloud?</h3>
											<div class="4u 12u$(small)">
												<input type="radio" id="q4_a" name="q4" value="a">
												<label for="q4_a">Virtualized compute, storage and network</label>
											</div>
											<div class="4u 12u$(small)">
												<input type="radio" id="q4_b" name="q4" value="b">
												<label for="q4_b">Converged infrastructure, scale out storage</label>
											</div>
											<div class="4u$ 12u$(small)">
												<input type="radio" id="q4_c" name="q4" value="c">
												<label for="q4_c">Modernized architecture, automated service delivery & management</label>
											</div>
											</div>


											<div class="12u 12u$(small) q5" id="q5_block">
											<h3>Q5: According to analyst research, how much cost efficiency can be gained by moving to a hybrid cloud model?</h3>
											<div class="4u 12u$(small)">
												<input type="radio" id="q5_a" name="q5" value="a">
												<label for="q5_a">20%</label>
											</div>
											<div class="4u 12u$(small)">
												<input type="radio" id="q5_b" name="q5" value="b">
												<label for="q5_b">24%</label>
											</div>
											<div class="4u$ 12u$(small)">
												<input type="radio" id="q5_c" name="q5" value="c">
												<label for="q5_c">28%</label>
											</div>
											<div class="4u$ 12u$(small)">
												<input type="radio" id="q5_d" name="q5" value="d">
												<label for="q5_d">35%</label>
											</div></div>

											<div class="12u$">
												<ul class="actions">
													<li>
														<input id="submit_q1" type="button" value="Submit Q1" class="special q1" disabled="disabled"/>
														<input id="submit_q2" type="button" value="Submit Q2" class="special q2" disabled="disabled"/>
														<input id="submit_q3" type="button" value="Submit Q3" class="special q3" disabled="disabled"/>
														<input id="submit_q4" type="button" value="Submit Q4" class="special q4" disabled="disabled"/>
														<input id="submit_q5" type="button" value="Submit Q5" class="special q5" disabled="disabled"/>
													</li>
												</ul>
											</div>
											<div class="done">
												<h2>Thank you for your participation!</h2>
											</div>
										</div>
									</form>
								</div>
							</section>
					</div>
			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>
		<script>
			function isEmail(email) {
				var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
				return regex.test(email);
			}
			$(document).ready(function(){

				(function ($) {
					$.fn.serializeFormJSON = function () {

						var o = {};
						var a = this.serializeArray();
						$.each(a, function () {
							if (o[this.name]) {
								if (!o[this.name].push) {
									o[this.name] = [o[this.name]];
								}
								o[this.name].push(this.value || '');
							} else {
								o[this.name] = this.value || '';
							}
						});
						return o;
					};

					$('#name, #email').on('autocompletechange change keyup', q1Button);

				})(jQuery);

				$("#submit_q1").on('click', function(){
					// send ajax
					$.ajax({
						url: '/userAnswers', // url where to submit the request
						type : "POST", // type of action POST || GET
						contentType:"application/json; charset=utf-8",
						dataType : 'json', // data type
						data: JSON.stringify({name: $("#name").val(), email:$("#email").val(), q1: $("#userAnswer input[name=q1]:checked").val()}),
						success : function(result) {
							$(".q1").hide();
							$(".q2").show();
							$('#submit_q2').attr('disabled', 'disabled');
						},
						error: function(xhr, resp, text) {
							alert(text);
						}
					})
				});

				$("#submit_q2").on('click', function(){
					// send ajax
					$.ajax({
						url: '/userAnswers/'+$("#email").val(), // url where to submit the request
						type : "PATCH", // type of action POST || GET
						contentType:"application/json; charset=utf-8",
						dataType : 'json', // data type
						data: JSON.stringify({q2: $("#userAnswer input[name=q2]:checked").val()}),
						success : function(result) {
							$(".q2").hide();
							$(".q3").show();
							$('#submit_q3').attr('disabled', 'disabled');
						},
						error: function(xhr, resp, text) {
							alert(text);
						}
					})
				});

				$("#submit_q3").on('click', function(){
					// send ajax
					$.ajax({
						url: '/userAnswers/'+$("#email").val(), // url where to submit the request
						type : "PATCH", // type of action POST || GET
						contentType:"application/json; charset=utf-8",
						dataType : 'json', // data type
						data: JSON.stringify({q3: $("#userAnswer input[name=q3]:checked").val()}),
						success : function(result) {
							$(".q3").hide();
							$(".q4").show();
							$('#submit_q4').attr('disabled', 'disabled');

						},
						error: function(xhr, resp, text) {
							alert(text);
						}
					})
				});

				$("#submit_q4").on('click', function(){
					// send ajax
					$.ajax({
						url: '/userAnswers/'+$("#email").val(), // url where to submit the request
						type : "PATCH", // type of action POST || GET
						contentType:"application/json; charset=utf-8",
						dataType : 'json', // data type
						data: JSON.stringify({q4: $("#userAnswer input[name=q4]:checked").val()}),
						success : function(result) {
							$(".q4").hide();
							$(".q5").show();
							$('#submit_q5').attr('disabled', 'disabled');
						},
						error: function(xhr, resp, text) {
							alert(text);
						}
					})
				});

				$("#submit_q5").on('click', function(){
					// send ajax
					$.ajax({
						url: '/userAnswers/'+$("#email").val(), // url where to submit the request
						type : "PATCH", // type of action POST || GET
						contentType:"application/json; charset=utf-8",
						dataType : 'json', // data type
						data: JSON.stringify({q5: $("#userAnswer input[name=q5]:checked").val()}),
						success : function(result) {
							$(".q5").hide();
							$(".done").show();
						},
						error: function(xhr, resp, text) {
							alert(text);
						}
					})
				});

				$('input[name=q1]:radio').change(q1Button);
				$('input[name=q2]:radio').change(function(){otherButton('2')});
				$('input[name=q3]:radio').change(function(){otherButton('3')});
				$('input[name=q4]:radio').change(function(){otherButton('4')});
				$('input[name=q5]:radio').change(function(){otherButton('5')});


				function otherButton(questionNumber){
					var ans = $('input[type=radio][name=q' + questionNumber + ']:checked').val();
					if(ans == 'a' || ans == 'b' || ans == 'c' || ans == 'd'){
						$('#submit_q' + questionNumber).removeAttr('disabled');
					}
				}

				function q1Button(){
					var empty = false;
					$('#name, #email').each(function() {
						if ($(this).val() == '') {
							empty = true;
						}
					});
					var ans = $('input[type=radio][name=q1]:checked').val();

					var q1Selected = (ans == 'a' || ans == 'b' || ans == 'c' || ans == 'd');
					if(!empty && q1Selected && isEmail($('#email').val())) {
						$('#submit_q1').removeAttr('disabled');
						return;
					}
					$('#submit_q1').attr('disabled', 'disabled');
				}


				$(".q1").show();
				$(".q2, .q3, .q4, .q5, .done").hide();
			});
		</script>
	</body>
</html>